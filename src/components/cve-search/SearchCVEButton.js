import React from 'react';
import { useHistory } from 'react-router-dom';
import { useTranslation } from 'react-i18next';

import PrimaryButton from '../../common/PrimaryButton';

const SearchCVEButton = ({ searchParams, ...style }) => {
  const { t } = useTranslation();
  const buttonTextT = t('cve-search.search');

  const history = useHistory();

  const search = () => {
    if (searchParams.cveId !== '') {
      history.push(`/cve-details/${searchParams.cveId}`);
    } else {
      history.push({
        pathname: '/cve-search/results',
        state: searchParams,
      });
    }
  };

  return (
    <PrimaryButton
      onClick={search}
      {...style}
    >
      {buttonTextT}
    </PrimaryButton>
  );
};

export default SearchCVEButton;
